<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.control.cell.PropertyValueFactory?>

<VBox xmlns="http://javafx.com/javafx/11.0.1" xmlns:fx="http://javafx.com/fxml/1" 
      fx:controller="mx.uam.ayd.proyecto.presentacion.HistorialCitas.ControladorHistorialCitas"
      spacing="15" style="-fx-padding: 20;">
   
   <padding><Insets top="20" right="20" bottom="20" left="20"/></padding>
   
   <!-- Header -->
   <Label text="Historial de Citas" style="-fx-font-size: 24; -fx-font-weight: bold; -fx-text-fill: #2c3e50;">
      <padding><Insets bottom="10"/></padding>
   </Label>
   
   <!-- Información del Paciente -->
   <VBox spacing="8" style="-fx-background-color: #ecf0f1; -fx-padding: 15; -fx-border-radius: 5; -fx-background-radius: 5;">
      <Label fx:id="lblNombrePaciente" text="Nombre del Paciente" style="-fx-font-size: 18; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
      <HBox spacing="20">
         <Label fx:id="lblEdadSexo" text="Edad • Sexo" style="-fx-text-fill: #7f8c8d;"/>
         <Label fx:id="lblContacto" text="Contacto" style="-fx-text-fill: #7f8c8d;"/>
      </HBox>
   </VBox>
   
   <!-- Botones de Acción -->
   <HBox spacing="10" alignment="CENTER_LEFT">
      <Button fx:id="btnNuevaCita" text="Nueva Cita" onAction="#nuevaCita" style="-fx-background-color: #27ae60; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 8 15;"/>
      <Button fx:id="btnVerDetalles" text="Ver Detalles" onAction="#verDetallesCita" style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 8 15;"/>
      <Region HBox.hgrow="ALWAYS"/>
      <Button fx:id="btnCerrar" text="Cerrar" onAction="#cerrar" style="-fx-background-color: #e74c3c; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 8 15;"/>
   </HBox>
   
   <!-- Tabla de Citas -->
   <Label text="Citas Registradas:" style="-fx-font-size: 16; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
   
   <TableView fx:id="tablaCitas" VBox.vgrow="ALWAYS">
      <columns>
         <TableColumn fx:id="colFecha" text="Fecha" prefWidth="120">
            <cellValueFactory>
               <PropertyValueFactory property="fechaCita"/>
            </cellValueFactory>
         </TableColumn>
         <TableColumn fx:id="colHora" text="Hora" prefWidth="80">
            <cellValueFactory>
               <PropertyValueFactory property="horaCita"/>
            </cellValueFactory>
         </TableColumn>
         <TableColumn fx:id="colEstado" text="Estado" prefWidth="100">
            <cellValueFactory>
               <PropertyValueFactory property="estadoCita"/>
            </cellValueFactory>
         </TableColumn>
         <TableColumn fx:id="colMotivo" text="Motivo/Detalles" prefWidth="300">
            <cellValueFactory>
               <PropertyValueFactory property="detallesAdicionalesPaciente"/>
            </cellValueFactory>
         </TableColumn>
      </columns>
      <columnResizePolicy>
         <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
      </columnResizePolicy>
   </TableView>
   
   <!-- Estado -->
   <HBox spacing="10" alignment="CENTER">
      <Label text="Seleccione una cita para ver detalles o cree una nueva cita" style="-fx-text-fill: #7f8c8d; -fx-font-style: italic;"/>
   </HBox>
</VBox>