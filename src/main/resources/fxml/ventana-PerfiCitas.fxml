<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.cell.PropertyValueFactory?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.Region?>

<BorderPane xmlns="http://javafx.com/javafx/17.0.12" 
            xmlns:fx="http://javafx.com/fxml/1"
            stylesheets="@css/style.css"
            prefHeight="700.0" prefWidth="900.0">
   
   <center>
      <VBox spacing="15.0" style="-fx-padding: 15;"> <!-- Reducido padding de 20 a 15 -->
         <Label text="Búsqueda de Perfiles de Citas" styleClass="main-title" />
         
         <VBox spacing="8.0" styleClass="content-card"> <!-- Reducido spacing de 10 a 8 -->
            <Label text="Criterios de Búsqueda:" styleClass="section-title" />
            
            <HBox spacing="12.0"> <!-- Reducido de 15 a 12 -->
               <VBox spacing="3.0"> <!-- Reducido de 5 a 3 -->
                  <Label text="Nombre:" />
                  <TextField fx:id="txtNombre" prefWidth="250.0" />
               </VBox>
               
               <VBox spacing="3.0"> <!-- Reducido de 5 a 3 -->
                  <Label text="Teléfono:" />
                  <TextField fx:id="txtTelefono" prefWidth="200.0" />
               </VBox>
            </HBox>
            
            <HBox spacing="8.0" alignment="CENTER_LEFT"> <!-- Reducido de 10 a 8 -->
               <Button text="Buscar" onAction="#buscarPerfiles" 
                       styleClass="success-button" />
               <Button text="Limpiar" onAction="#limpiarCampos" 
                       styleClass="secondary-button" />
               <Button text="Nuevo Perfil" onAction="#crearNuevoPerfil" 
                       styleClass="primary-button" />
               <Button text="Ver Historial" onAction="#verHistorialCitas" 
                       styleClass="accent-button" />
               <Region HBox.hgrow="ALWAYS" />
            </HBox>
         </VBox>
         
         <VBox spacing="8.0" VBox.vgrow="ALWAYS" styleClass="content-card"> <!-- Reducido spacing -->
            <Label text="Resultados:" styleClass="section-title" />
            
            <TableView fx:id="tablaResultados" VBox.vgrow="ALWAYS" prefHeight="300">
               <columns>
                  <TableColumn fx:id="colNombre" prefWidth="150.0" text="Nombre">
                     <cellValueFactory>
                        <PropertyValueFactory property="nombreCompleto" />
                     </cellValueFactory>
                  </TableColumn>
                  <TableColumn fx:id="colEdad" prefWidth="70.0" text="Edad"> <!-- Reducido ancho -->
                     <cellValueFactory>
                        <PropertyValueFactory property="edad" />
                     </cellValueFactory>
                  </TableColumn>
                  <TableColumn fx:id="colSexo" prefWidth="80.0" text="Sexo"> <!-- Reducido ancho -->
                     <cellValueFactory>
                        <PropertyValueFactory property="sexo" />
                     </cellValueFactory>
                  </TableColumn>
                  <TableColumn fx:id="colDireccion" prefWidth="180.0" text="Dirección"> <!-- Reducido ancho -->
                     <cellValueFactory>
                        <PropertyValueFactory property="direccion" />
                     </cellValueFactory>
                  </TableColumn>
                  <TableColumn fx:id="colOcupacion" prefWidth="130.0" text="Ocupación"> <!-- Reducido ancho -->
                     <cellValueFactory>
                        <PropertyValueFactory property="ocupacion" />
                     </cellValueFactory>
                  </TableColumn>
                  <TableColumn fx:id="colTelefono" prefWidth="110.0" text="Teléfono"> <!-- Reducido ancho -->
                     <cellValueFactory>
                        <PropertyValueFactory property="telefono" />
                     </cellValueFactory>
                  </TableColumn>
               </columns>
            </TableView>
            
            <HBox spacing="8" alignment="CENTER" styleClass="info-box"> <!-- Reducido spacing -->
               <Label text="Seleccione un perfil y haga clic en 'Ver Historial' para consultar sus citas" 
                      styleClass="info-text" />
            </HBox>
         </VBox>
      </VBox>
   </center>
</BorderPane>